(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{177:function(e,t,a){e.exports=a(351)},182:function(e,t,a){},351:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(24),i=a.n(c),l=(a(182),a(93)),s=a.n(l),o=a(160),u=a(52),d=a(161),m=a.n(d),h="http://www.mocky.io/v2/5cd04a20320000442200fc10",f=a(13),p=a.n(f);a(203);var v=a(162);var g=function(e){var t=Object(n.useState)({startDate:null,endDate:null}),a=Object(u.a)(t,2),c=a[0],i=a[1],l=Object(n.useState)(null),s=Object(u.a)(l,2),o=s[0],d=s[1];return r.a.createElement(v.DateRangePicker,{startDate:c.startDate,endDate:c.endDate,startDateId:"start_date",endDateId:"end_date",onDatesChange:function(t){var a=t.startDate,n=t.endDate;i({startDate:a,endDate:n}),a&&n&&a.isValid()&&n.isValid()&&e.onDateSelected({startDate:a,endDate:n})},focusedInput:o,onFocusChange:function(e){return d(e)},isOutsideRange:function(e){return p()().diff(e)<0}})},E=a(71),O=a(72),C=a(78),b=a(73),D=a(79),S=a(31),y=50,w=20,x=20,k=20,j=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(C.a)(this,Object(b.a)(t).call(this,e))).state={chart:null},a}return Object(D.a)(t,e),Object(O.a)(t,[{key:"componentDidMount",value:function(){this.renderChart()}},{key:"renderChart",value:function(){var e=this,t=this.props.data;this.xScale=S.g().domain([S.e(t,function(e){return new Date(e.timestamp)}),S.d(t,function(e){return new Date(e.timestamp)})]).range([0+y,500-w]),this.yScale=S.f().domain([0,S.d(t,function(e){return e.revenue})]).range([300-x,0+k]),this.xAxis=S.a(this.xScale),this.yAxis=S.b(this.yScale),this.line=S.c().x(function(t){return e.xScale(new Date(t.timestamp))}).y(function(t){return e.yScale(t.revenue)}),this.setState({chart:this.line(t)})}},{key:"componentDidUpdate",value:function(e){e.data!==this.props.data&&this.renderChart(),S.h(this.refs.xAxis).call(this.xAxis),S.h(this.refs.yAxis).call(this.yAxis)}},{key:"render",value:function(){return r.a.createElement("svg",{width:500,height:300},r.a.createElement("path",{d:this.state.chart,fill:"none",stroke:"red"}),r.a.createElement("g",null,r.a.createElement("g",{ref:"xAxis",transform:"translate(0, ".concat(300-k,")")}),r.a.createElement("g",{ref:"yAxis",transform:"translate(".concat(y,", 0)")})))}}]),t}(r.a.Component),A=a(77),N=a(366),P=a(367),I=a(364),R=a(368),T=a(365),F=a(96),H=a(369),V=a(163);var B=function(e){var t=e.pages,a=e.selected,n=e.onSelect;return r.a.createElement("div",null,r.a.createElement(V.a,{marginRight:16,appearance:"minimal",intent:"none",onClick:function(){return 1!==a&&n(a-1)}},"<<"),Object(A.a)(Array(t).keys()).map(function(e){return r.a.createElement(V.a,{key:e+1,marginRight:16,appearance:"minimal",intent:"none",isActive:a===e+1,onClick:function(){return n(e+1)}},e+1)}),r.a.createElement(V.a,{marginRight:16,appearance:"minimal",intent:"none",onClick:function(){return t!==a&&n(a+1)}},">>"))},M={NONE:"NONE",ASC:"ASC",DESC:"DESC"},_=["timestamp","game","revenue","impressions"],J=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(C.a)(this,Object(b.a)(t).call(this,e))).state={searchQuery:"",orderedColumn:0,ordering:M.ASC,selectedPage:1,perPage:5},a}return Object(D.a)(t,e),Object(O.a)(t,[{key:"sort",value:function(e){var t=this,a=this.state,n=a.ordering,r=a.orderedColumn;if(n===M.NONE)return e;var c=_[r];return Object(A.a)(e).sort(function(e,a){var n=e[c],r=a[c],i={true:1,false:-1};return t.state.ordering===M.ASC?n===r?0:i[n>r]:r===n?0:i[r>n]})}},{key:"getIconForOrder",value:function(e){switch(e){case M.ASC:return"arrow-up";case M.DESC:return"arrow-down";default:return"caret-down"}}},{key:"renderHeader",value:function(e,t){var a=this;return r.a.createElement(N.a.TextHeaderCell,{key:e},r.a.createElement(P.a,{position:I.a.BOTTOM_LEFT,content:function(e){var n=e.close;return r.a.createElement(R.a,null,r.a.createElement(R.a.OptionsGroup,{title:"Order",options:[{label:"Ascending",value:M.ASC},{label:"Descending",value:M.DESC}],selected:a.state.orderedColumn===t?a.state.ordering:null,onChange:function(e){a.setState({orderedColumn:t,ordering:e}),n()}}))}},r.a.createElement(T.a,{icon:this.state.orderedColumn===t?this.getIconForOrder(this.state.ordering):"caret-down"},e)))}},{key:"renderRow",value:function(e,t){return r.a.createElement(N.a.Row,{key:"".concat(e.timestamp," ").concat(t," ").concat(e.revenue)},r.a.createElement(N.a.TextCell,null,e.timestamp),r.a.createElement(N.a.TextCell,null,e.game),r.a.createElement(N.a.TextCell,{isNumber:!0},e.revenue),r.a.createElement(N.a.TextCell,{isNumber:!0},e.impressions))}},{key:"render",value:function(){var e=this,t=this.props.data,a=this.state,n=a.selectedPage,c=a.perPage,i=this.sort(t).slice((n-1)*c,n*c);return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(F.a,{size:500},"Items per page"),r.a.createElement(H.a,{items:[5,10],width:70,defaultSelectedItem:c,onChange:function(t){e.setState({perPage:t,selectedPage:1})}})),r.a.createElement(N.a,{border:!0},r.a.createElement(N.a.Head,null,_.map(function(t,a){return e.renderHeader(t,a)}),r.a.createElement(N.a.HeaderCell,{width:48,flex:"none"})),r.a.createElement(N.a.VirtualBody,{height:47*c},i.map(function(t,a){return e.renderRow(t,a)}))),r.a.createElement(B,{selected:this.state.selectedPage,pages:Math.ceil(t.length/c),onSelect:function(t){e.setState({selectedPage:t})}}))}}]),t}(r.a.Component);var z=function(){var e=Object(n.useState)({records:[],error:!1}),t=Object(u.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)({startDate:null,endDate:null}),l=Object(u.a)(i,2),d=l[0],f=l[1];function v(){return(v=Object(o.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m()(h);case 3:t=e.sent,c({records:t.data,error:!0}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),c({records:[],error:!0});case 10:case"end":return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}Object(n.useEffect)(function(){!function(){v.apply(this,arguments)}()},[]);var E=function(e){var t,a,n=e.records,r=d.startDate,c=d.endDate;if(r&&c&&r.isValid()&&c.isValid()){var i=(t=r,a=c,function(e){return p()(e).add(12,"hours").isSameOrAfter(t)&&p()(e).add(12,"hours").isSameOrBefore(a)});return n.filter(function(e){return i(e.timestamp)})}return n}(a);return r.a.createElement("div",{className:"App"},r.a.createElement(g,{onDateSelected:function(e){f(e)}}),E.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(j,{data:E}),r.a.createElement(J,{data:E})):r.a.createElement("div",null,"No data available for the date range"))};a(337);i.a.render(r.a.createElement(z,null),document.getElementById("root"))}},[[177,1,2]]]);
//# sourceMappingURL=main.7ec38e80.chunk.js.map