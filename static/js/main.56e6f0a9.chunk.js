(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{177:function(e,t,a){e.exports=a(351)},182:function(e,t,a){},351:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(24),i=a.n(c),s=(a(182),a(93)),l=a.n(s),o=a(160),u=a(61),d=a(161),m=a.n(d),h="http://www.mocky.io/v2/5cd04a20320000442200fc10",f=a(14),p=a.n(f),g=(a(203),a(162));var v=function(e){var t=Object(n.useState)({startDate:null,endDate:null}),a=Object(u.a)(t,2),c=a[0],i=a[1],s=Object(n.useState)(null),l=Object(u.a)(s,2),o=l[0],d=l[1];return r.a.createElement(g.DateRangePicker,{startDate:c.startDate,endDate:c.endDate,startDateId:"start_date",endDateId:"end_date",onDatesChange:function(t){var a=t.startDate,n=t.endDate;i({startDate:a,endDate:n}),a&&n&&a.isValid()&&n.isValid()&&e.onDateSelected({startDate:a,endDate:n})},focusedInput:o,onFocusChange:function(e){return d(e)},isOutsideRange:function(e){return p()().diff(e)<0}})},E=a(71),C=a(72),O=a(78),b=a(73),y=a(79),D=a(31),S=50,w=20,x=20,k=20,j=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(O.a)(this,Object(b.a)(t).call(this,e))).state={chart:null},a}return Object(y.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){this.renderChart()}},{key:"renderChart",value:function(){var e=this,t=this.props.data;this.xScale=D.g().domain([D.e(t,function(e){return new Date(e.timestamp)}),D.d(t,function(e){return new Date(e.timestamp)})]).range([0+S,500-w]),this.yScale=D.f().domain([0,D.d(t,function(e){return e.revenue})]).range([300-x,0+k]),this.xAxis=D.a(this.xScale),this.yAxis=D.b(this.yScale),this.line=D.c().x(function(t){return e.xScale(new Date(t.timestamp))}).y(function(t){return e.yScale(t.revenue)}),this.setState({chart:this.line(t)})}},{key:"componentDidUpdate",value:function(e){e.data!==this.props.data&&this.renderChart(),D.h(this.refs.xAxis).call(this.xAxis),D.h(this.refs.yAxis).call(this.yAxis)}},{key:"render",value:function(){return r.a.createElement("svg",{width:500,height:300},r.a.createElement("path",{d:this.state.chart,fill:"none",stroke:"red"}),r.a.createElement("g",null,r.a.createElement("g",{ref:"xAxis",transform:"translate(0, ".concat(300-k,")")}),r.a.createElement("g",{ref:"yAxis",transform:"translate(".concat(S,", 0)")})))}}]),t}(r.a.Component),A=a(77),N=a(366),P=a(367),I=a(364),R=a(368),T=a(365),H=a(96),F=a(369),B=a(163);var V=function(e){var t=e.pages,a=e.selected,n=e.onSelect;return r.a.createElement("div",null,r.a.createElement(B.a,{marginRight:16,appearance:"minimal",intent:"none",onClick:function(){return 1!==a&&n(a-1)}},"<<"),Object(A.a)(Array(t).keys()).map(function(e){return r.a.createElement(B.a,{key:e+1,marginRight:16,appearance:"minimal",intent:"none",isActive:a===e+1,onClick:function(){return n(e+1)}},e+1)}),r.a.createElement(B.a,{marginRight:16,appearance:"minimal",intent:"none",onClick:function(){return t!==a&&n(a+1)}},">>"))},_={NONE:"NONE",ASC:"ASC",DESC:"DESC"},J=["timestamp","game","revenue","impressions"],M=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(O.a)(this,Object(b.a)(t).call(this,e))).state={searchQuery:"",orderedColumn:0,ordering:_.ASC,selectedPage:1,perPage:5},a}return Object(y.a)(t,e),Object(C.a)(t,[{key:"sort",value:function(e){var t=this,a=this.state,n=a.ordering,r=a.orderedColumn;if(n===_.NONE)return e;var c=J[r];return Object(A.a)(e).sort(function(e,a){var n=e[c],r=a[c],i={true:1,false:-1};return t.state.ordering===_.ASC?n===r?0:i[n>r]:r===n?0:i[r>n]})}},{key:"getIconForOrder",value:function(e){switch(e){case _.ASC:return"arrow-up";case _.DESC:return"arrow-down";default:return"caret-down"}}},{key:"renderHeader",value:function(e,t){var a=this;return r.a.createElement(N.a.TextHeaderCell,{key:e},r.a.createElement(P.a,{position:I.a.BOTTOM_LEFT,content:function(e){var n=e.close;return r.a.createElement(R.a,null,r.a.createElement(R.a.OptionsGroup,{title:"Order",options:[{label:"Ascending",value:_.ASC},{label:"Descending",value:_.DESC}],selected:a.state.orderedColumn===t?a.state.ordering:null,onChange:function(e){a.setState({orderedColumn:t,ordering:e}),n()}}))}},r.a.createElement(T.a,{icon:this.state.orderedColumn===t?this.getIconForOrder(this.state.ordering):"caret-down"},e)))}},{key:"renderRow",value:function(e,t){return r.a.createElement(N.a.Row,{key:"".concat(e.timestamp," ").concat(t," ").concat(e.revenue)},r.a.createElement(N.a.TextCell,null,e.timestamp),r.a.createElement(N.a.TextCell,null,e.game),r.a.createElement(N.a.TextCell,{isNumber:!0},e.revenue),r.a.createElement(N.a.TextCell,{isNumber:!0},e.impressions))}},{key:"render",value:function(){var e=this,t=this.props.data,a=this.state,n=a.selectedPage,c=a.perPage,i=this.sort(t).slice((n-1)*c,n*c);return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(H.a,{size:500},"Items per page"),r.a.createElement(F.a,{items:[5,10],width:70,defaultSelectedItem:c,onChange:function(t){e.setState({perPage:t,selectedPage:1})}})),r.a.createElement(N.a,{border:!0},r.a.createElement(N.a.Head,null,J.map(function(t,a){return e.renderHeader(t,a)}),r.a.createElement(N.a.HeaderCell,{width:48,flex:"none"})),r.a.createElement(N.a.VirtualBody,{height:47*c},i.map(function(t,a){return e.renderRow(t,a)}))),r.a.createElement(V,{selected:this.state.selectedPage,pages:t.length/c,onSelect:function(t){e.setState({selectedPage:t})}}))}}]),t}(r.a.Component);var z=function(){var e=Object(n.useState)({records:[],error:!1}),t=Object(u.a)(e,2),a=t[0],c=t[1];function i(){return(i=Object(o.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m()(h);case 3:t=e.sent,c({records:t.data,error:!0}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),c({records:[],error:!0});case 10:case"end":return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}return Object(n.useEffect)(function(){!function(){i.apply(this,arguments)}()},[]),r.a.createElement("div",{className:"App"},r.a.createElement(v,{onDateSelected:function(e){console.log(e)}}),r.a.createElement(j,{data:a.records}),r.a.createElement(M,{data:a.records}))};a(337);i.a.render(r.a.createElement(z,null),document.getElementById("root"))}},[[177,1,2]]]);
//# sourceMappingURL=main.56e6f0a9.chunk.js.map